var A=Object.defineProperty,N=Object.defineProperties;var O=Object.getOwnPropertyDescriptors;var y=Object.getOwnPropertySymbols;var V=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable;var F=(a,e,n)=>e in a?A(a,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[e]=n,u=(a,e)=>{for(var n in e||(e={}))V.call(e,n)&&F(a,n,e[n]);if(y)for(var n of y(e))q.call(e,n)&&F(a,n,e[n]);return a},R=(a,e)=>N(a,O(e));import{d as M,a as m,r as $,o as D,q as H,e as i,w as l,f as t,c8 as K,Z as L,h as d,i as P}from"./index.9ea39232.js";import{u as Q,B as Z}from"./useTable.db1db6c5.js";import{r as G,B as J}from"./useForm.c467aa96.js";import{j as U,k as W,l as X,m as Y,n as ee,p as te,q as oe}from"./order.c9e7790f.js";import{B as ne}from"./index.4c756888.js";/* empty css               */import"./el-popper.9aa5ade8.js";/* empty css                  */import"./el-input-number.e6179de6.js";import"./el-switch.05966c42.js";import"./check.8d7cf096.js";import"./dateUtil.648bdb8e.js";import"./useWindowSizeFn.4d8673c8.js";import"./onMountedOrActivated.21e8b91f.js";import"./el-divider.c329bdb5.js";import"./sortable.esm.6991fe44.js";import"./log.b69fc4f1.js";import"./uniqBy.067f2c9d.js";import"./el-form-item.f36f1992.js";import"./uniq.030252d7.js";/* empty css                 */import"./el-space.f4d2670a.js";import"./useTableFomatter.c95f95bd.js";const ae=d("\u65B0\u589E"),re=d("\u5220\u9664"),se=d("\u7F16\u8F91"),ie=d("\u5220\u9664"),je=M({__name:"returnReason",setup(a){const e=m(!1),n=m(!1),v=$({pageSize:10,pageNum:1});let c=m();const p=m({});let h=W;function _(o){p.value=o&&o.id?o:{sort:0,status:1},t(c).visibleRef=!0}function k(){}let f=X();f[1].editEvnets={input:k};const[B,{getForm:le,reload:b}]=Q({api:h,columns:f,useSearchForm:!0,formConfig:u({},Y()),showTableSetting:!0,tableSetting:{fullScreen:!0},showIndexColumn:!1,rowKey:"key",isTreeTable:!0}),[z,T]=G();let w=o=>{let r=o;return r.productCategoryId=r.category&&r.category[1],delete r.category,r};function x(o,r){return!0}function C(o,r){let s=o&&o.id?o:R(u({},T.getFieldsValue()),{id:p.value.id});(s.id?ee:te)(u({},s)).then(S=>{S.code===200&&(b(),t(c).visibleRef=!1)})}function E(o,r){oe({ids:"1,2"}).then(s=>{s.code===200&&(b(),t(c).visibleRef=!1)})}let I=[];return(o,r)=>{const s=P;return D(),H(L,null,[i(t(Z),{titleHelpMessage:"\u6E29\u99A8\u63D0\u9192",columns:t(f),dataSource:t(I),canResize:e.value,loading:n.value,showTableSetting:"",pagination:v,beforeFetch:t(w),tableSearchQuery:{pageNum:1,pageSize:50},api:t(h),useSearchForm:"",columnSelectInit:{selectable:x,initSelectRows:[1,2,3]},rowSelection:{type:"checkbox"},onColumnsChange:o.handleColumnChange,onRegister:t(B)},{"form-advanceBefore":l(()=>[i(s,{type:"danger",onClick:_},{default:l(()=>[ae]),_:1}),i(s,{type:"danger",onClick:E},{default:l(()=>[re]),_:1})]),"col-operate":l(({row:g,column:S})=>[i(s,{size:"small",type:"primary",onClick:j=>_(g)},{default:l(()=>[se]),_:2},1032,["onClick"]),i(t(K),{title:"Are you sure to delete this?",onConfirm:j=>C(R(u({},g),{status:0}))},{reference:l(()=>[i(s,{size:"small",type:"danger"},{default:l(()=>[ie]),_:1})]),_:2},1032,["onConfirm"])]),_:1},8,["columns","dataSource","canResize","loading","pagination","beforeFetch","api","columnSelectInit","onColumnsChange","onRegister"]),i(t(ne),{ref_key:"modalRef",ref:c,onOk:C},{default:l(()=>[i(t(J),{onRegister:t(z),model:p.value,schemas:t(U),showActionBtn:!1},null,8,["onRegister","model","schemas"])]),_:1},512)],64)}}});export{je as default};
