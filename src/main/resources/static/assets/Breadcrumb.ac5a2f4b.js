var Y=Object.defineProperty,ee=Object.defineProperties;var re=Object.getOwnPropertyDescriptors;var z=Object.getOwnPropertySymbols;var te=Object.prototype.hasOwnProperty,ae=Object.prototype.propertyIsEnumerable;var T=(e,r,a)=>r in e?Y(e,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[r]=a,I=(e,r)=>{for(var a in r||(r={}))te.call(r,a)&&T(e,a,r[a]);if(z)for(var a of z(r))ae.call(r,a)&&T(e,a,r[a]);return e},$=(e,r)=>ee(e,re(r));var V=(e,r,a)=>new Promise((p,o)=>{var _=i=>{try{d(a.next(i))}catch(h){o(h)}},g=i=>{try{d(a.throw(i))}catch(h){o(h)}},d=i=>i.done?p(i.value):Promise.resolve(i.value).then(_,g);d((a=a.apply(e,r)).next())});import{B as j,bL as ne,d as x,J as K,a as A,N as oe,V as le,o as m,q as B,Q as q,y as k,f,_ as J,C as se,S as ce,O as ie,g as M,c as w,w as b,a7 as ue,ag as P,x as C,ar as me,aa as de,ab as be,aE as pe,aK as fe,aN as _e,fo as F,hw as G,hx as Q,hy as he,aI as ge,b3 as ve,n as ye,bi as ke,bh as we,aJ as Be,b5 as Ie,be as $e,b2 as Ce,hz as Ee,ak as O,e as y,Z as xe,a_ as De,h as E,s as D,ff as Ae}from"./index.9ea39232.js";import"./el-popper.9aa5ade8.js";import"./el-dropdown-menu.661be3e0.js";import"./el-dropdown-item.e314191a.js";const Z=Symbol("breadcrumbKey"),Me=j({separator:{type:String,default:"/"},separatorIcon:{type:ne,default:""}}),Pe={name:"ElBreadcrumb"},Re=x($(I({},Pe),{props:Me,setup(e){const r=e,a=K("breadcrumb"),p=A();return oe(Z,r),le(()=>{const o=p.value.querySelectorAll(`.${a.e("item")}`);o.length&&o[o.length-1].setAttribute("aria-current","page")}),(o,_)=>(m(),B("div",{ref_key:"breadcrumb",ref:p,class:k(f(a).b()),"aria-label":"Breadcrumb",role:"navigation"},[q(o.$slots,"default")],2))}}));var Se=J(Re,[["__file","/home/runner/work/element-plus/element-plus/packages/components/breadcrumb/src/breadcrumb.vue"]]);const Le=j({to:{type:se([String,Object]),default:""},replace:{type:Boolean,default:!1}}),Ne={name:"ElBreadcrumbItem"},ze=x($(I({},Ne),{props:Le,setup(e){const r=e,a=me(),p=ce(Z,void 0),o=K("breadcrumb"),{separator:_,separatorIcon:g}=ie(p),d=a.appContext.config.globalProperties.$router,i=A(),h=()=>{!r.to||!d||(r.replace?d.replace(r.to):d.push(r.to))};return(l,n)=>(m(),B("span",{class:k(f(o).e("item"))},[M("span",{ref_key:"link",ref:i,class:k([f(o).e("inner"),f(o).is("link",!!l.to)]),role:"link",onClick:h},[q(l.$slots,"default")],2),f(g)?(m(),w(f(P),{key:0,class:k(f(o).e("separator"))},{default:b(()=>[(m(),w(ue(f(g))))]),_:1},8,["class"])):(m(),B("span",{key:1,class:k(f(o).e("separator")),role:"presentation"},C(f(_)),3))],2))}}));var H=J(ze,[["__file","/home/runner/work/element-plus/element-plus/packages/components/breadcrumb/src/breadcrumb-item.vue"]]);const U=de(Se,{BreadcrumbItem:H}),W=be(H),Te=x({name:"ArrowDown"}),Ve={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Oe=M("path",{fill:"currentColor",d:"M831.872 340.864L512 652.672 192.128 340.864a30.592 30.592 0 00-42.752 0 29.12 29.12 0 000 41.6L489.664 714.24a32 32 0 0044.672 0l340.288-331.712a29.12 29.12 0 000-41.728 30.592 30.592 0 00-42.752 0z"},null,-1),je=[Oe];function Ke(e,r,a,p,o,_){return m(),B("svg",Ve,je)}var qe=pe(Te,[["render",Ke]]);const Je=x({name:"LayoutBreadcrumb",components:{Icon:_e,ArrowDown:qe,ElBreadcrumb:U,ElBreadcrumbItem:W,ElDropdown:F,ElDropdownMenu:G,ElDropdownItem:Q,ElIcon:P,RouterLink:he},props:{theme:ge.oneOf(["dark","light"])},setup(){const e=A([]),{currentRoute:r}=ve(),{prefixCls:a}=ye("layout-breadcrumb"),{getShowBreadCrumbIcon:p}=ke(),o=we();Be(()=>V(this,null,function*(){var S,L,N;if(r.value.name===Ie)return;const l=yield $e(),n=r.value.matched,t=n==null?void 0:n[n.length-1];let s=r.value.path;t&&((S=t==null?void 0:t.meta)==null?void 0:S.currentActiveMenu)&&(s=t.meta.currentActiveMenu);const c=Ce(l,s),u=l.filter(X=>X.path===c[0]),v=_(u,c);if(!v||v.length===0)return;const R=g(v);(L=r.value.meta)!=null&&L.currentActiveMenu&&R.push($(I({},r.value),{name:((N=r.value.meta)==null?void 0:N.title)||r.value.name})),e.value=R}));function _(l,n){const t=[];return l.forEach(s=>{var c,u;n.includes(s.path)&&t.push($(I({},s),{name:((c=s.meta)==null?void 0:c.title)||s.name})),(u=s.children)!=null&&u.length&&t.push(..._(s.children,n))}),t}function g(l){return Ee(l,n=>{const{meta:t,name:s}=n;if(!t)return!!s;const{title:c,hideBreadcrumb:u,hideMenu:v}=t;return!(!c||u||v)}).filter(n=>{var t;return!((t=n.meta)!=null&&t.hideBreadcrumb)})}function d(l,n,t){t==null||t.preventDefault();const{children:s,redirect:c,meta:u}=l;if((s==null?void 0:s.length)&&!c){t==null||t.stopPropagation();return}if(!(u!=null&&u.carryParam))if(c&&Ae(c))o(c);else{let v="";v=/^\//.test(n)?n:`/${n}`,o(v)}}function i(l,n){return l.indexOf(n)!==l.length-1}function h(l){var n;return l.icon||((n=l.meta)==null?void 0:n.icon)}return{routes:e,prefixCls:a,getIcon:h,getShowBreadCrumbIcon:p,handleClick:d,hasRedirect:i}}}),Fe={class:"ElDropdown-link"};function Ge(e,r,a,p,o,_){const g=O("ArrowDown"),d=P,i=O("RouterLink"),h=Q,l=G,n=F,t=W,s=U;return m(),B("div",{class:k([e.prefixCls,`${e.prefixCls}--${e.theme}`])},[y(s,null,{default:b(()=>[e.routes&&e.routes[0]&&e.routes[0].children?(m(),w(t,{key:0},{default:b(()=>[y(n,null,{dropdown:b(()=>[y(l,null,{default:b(()=>[(m(!0),B(xe,null,De(e.routes[0].children,c=>(m(),w(h,null,{default:b(()=>[y(i,{to:"",onClick:u=>e.handleClick(c,c.path,u)},{default:b(()=>[E(C(c.name),1)]),_:2},1032,["onClick"])]),_:2},1024))),256))]),_:1})]),default:b(()=>[M("span",Fe,[E(C(e.routes[0].name),1),y(d,{class:"el-icon--right"},{default:b(()=>[y(g)]),_:1})])]),_:1})]),_:1})):D("",!0),e.routes&&e.routes.length===1?(m(),w(t,{key:1},{default:b(()=>[E(C(e.routes[0].name),1)]),_:1})):D("",!0),e.routes&&e.routes.length>1?(m(),w(t,{key:2},{default:b(()=>[E(C(e.routes[1].name),1)]),_:1})):D("",!0)]),_:1})],2)}var Xe=fe(Je,[["render",Ge]]);export{Xe as default};
