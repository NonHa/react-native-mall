var h=Object.defineProperty,C=Object.defineProperties;var I=Object.getOwnPropertyDescriptors;var c=Object.getOwnPropertySymbols;var A=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var g=(o,t,r)=>t in o?h(o,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):o[t]=r,u=(o,t)=>{for(var r in t||(t={}))A.call(t,r)&&g(o,r,t[r]);if(c)for(var r of c(t))R.call(t,r)&&g(o,r,t[r]);return o},L=(o,t)=>C(o,I(t));import{m as S,bF as x,aI as O,d as b,aL as f,aK as p,gw as m,b1 as k,q as B,o as J,c as P,w as l,e as d,hf as $}from"./index.1d7aec97.js";import"./el-popper.0d57635d.js";/* empty css                 */import{b as j}from"./dateUtil.eb5ec18e.js";var E=(o=>(o.VUE="vue",o.SCRIPT="script",o.RESOURCE="resource",o.AJAX="ajax",o.PROMISE="promise",o))(E||{});const v=S({id:"app-error-log",state:()=>({errorLogInfoList:null,errorLogListCount:0}),getters:{getErrorLogInfoList(){return this.errorLogInfoList||[]},getErrorLogListCount(){return this.errorLogListCount}},actions:{addErrorLogInfo(o){const t=L(u({},o),{time:j()});this.errorLogInfoList=[t,...this.errorLogInfoList||[]],this.errorLogListCount+=1},setErrorLogListCount(o){this.errorLogListCount=o},addAjaxErrorInfo(o){const{useErrorHandle:t}=x;if(!t)return;const r={message:o.message,type:E.AJAX};if(o.response){const{config:{url:e="",data:a="",method:i="get",headers:s={}}={},data:n={}}=o.response;r.url=e,r.name="Ajax Error!",r.file="-",r.stack=JSON.stringify(n),r.detail=JSON.stringify({params:a,method:i,headers:s})}this.addErrorLogInfo(r)}}}),w=b({name:"ErrorAction",components:{Icon:f,ElTooltip:p,ElBadge:m},setup(){const{push:o}=k(),t=v(),r=B(()=>t.getErrorLogListCount);function e(){o($.ERROR_LOG_PAGE).then(()=>{t.setErrorLogListCount(0)})}return{getCount:r,handleToErrorList:e}}});function D(o,t,r,e,a,i){const s=f,n=m,_=p;return J(),P(_,{title:"tooltipErrorLog",placement:"bottom",mouseEnterDelay:.5,onClick:o.handleToErrorList},{default:l(()=>[d(n,{"is-dot":""},{default:l(()=>[d(s,{icon:"ion:bug-outline"})]),_:1})]),_:1},8,["mouseEnterDelay","onClick"])}var X=O(w,[["render",D]]);export{X as default};
