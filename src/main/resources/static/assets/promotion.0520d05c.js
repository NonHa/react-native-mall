import{C as W,z as T,G as q,H as K,J as Q,y as S,i as N}from"./useForm.c467aa96.js";import{s as y}from"./useTableFomatter.c95f95bd.js";import{d as X,a as b,O as Z,o as _,q as w,e as t,w as s,f as c,g as ee,Z as f,a_ as oe,c as te,s as le,h as i,i as ae,gk as re,fc as ne,ac as l}from"./index.9ea39232.js";/* empty css               *//* empty css                  */import"./el-popper.9aa5ade8.js";import{u as se}from"./product.2dbecb13.js";import{B as V}from"./useTable.db1db6c5.js";import{t as de}from"./table.e172cbb0.js";const ue=i("\u5168\u573A\u901A\u7528"),ce=i("\u6307\u5B9A\u5206\u7C7B"),pe=i("\u6307\u5B9A\u5546\u54C1"),ie=i("\u6DFB\u52A0"),me=i("\u5220\u9664"),fe=i("\u6DFB\u52A0"),be=i("\u5220\u9664"),he=X({__name:"coupEidtType",props:{model:{type:Object}},setup(e){const o=e,d=b([]),m=b([]),g=b([]),I=b(),M=b([]),v=b({}),{model:h}=Z(o),R=[{label:"\u5206\u7C7B\u540D\u79F0",prop:"name",width:150,formatter:r=>`${c(r).parentCategoryName}/${c(r).productCategoryName}`},{label:"\u64CD\u4F5C",prop:"operate",width:150,slot:!0}],Y=[{label:"\u5546\u54C1\u540D\u79F0",prop:"productName",width:150},{label:"\u8D27\u53F7",prop:"productSn",width:150},{label:"\u64CD\u4F5C",prop:"operate",width:150,slot:!0}],{getProductCategoryList:H}=se(),E=H.map(r=>({value:r.id,label:r.name,children:r.children.map(n=>({value:n.id,label:n.name}))})),j=b(E),k=r=>{r==="cate"?m.value.push({id:d.value[1],index:m.value.length+1,productCategoryId:d.value[1],parentCategoryName:E.filter(n=>n.value===d.value[0])[0].label,productCategoryName:E.filter(n=>n.value===d.value[0])[0].children.filter(n=>n.value===d.value[1])[0].label}):g.value.push({id:m.value.length+1,index:m.value.length+1,productId:v.value.value,productName:v.value.label,productSn:v.value.sn}),z()},L=(r,n)=>{n==="cate"?(m.value.splice(r.index-1,1),m.value.forEach((p,P)=>{p.index=P+1})):(g.value.splice(r.index-1,1),g.value.forEach((p,P)=>{p.index=P+1}))},z=()=>{c(h).productCategoryRelationList=m.value.map(r=>({productCategoryId:r.productCategoryId,parentCategoryName:r.parentCategoryName,productCategoryName:r.productCategoryName})),c(h).productRelationList=g.value.map(r=>({productId:r.productId,productName:r.productName,productSn:r.productSn}))},U=r=>{r?setTimeout(()=>{de({keyword:r}).then(n=>{M.value=n.data.list.map(p=>({label:p.name,value:p.id,sn:p.productSn}))})},200):(M.value=[],v.value={})},A=r=>{v.value=M.value.filter(n=>n.value===r)[0]};return(r,n)=>{const p=W,P=T,$=q,x=K,C=ae,F=Q,O=re,G=ne;return _(),w(f,null,[t(P,{modelValue:c(h).useType,"onUpdate:modelValue":n[0]||(n[0]=u=>c(h).useType=u),style:{"margin-bottom":"30px"}},{default:s(()=>[t(p,{label:0},{default:s(()=>[ue]),_:1}),t(p,{label:1},{default:s(()=>[ce]),_:1}),t(p,{label:2},{default:s(()=>[pe]),_:1})]),_:1},8,["modelValue"]),ee("div",null,[c(h).useType===1?(_(),w(f,{key:0},[t(F,null,{default:s(()=>[t(x,{span:12},{default:s(()=>[t($,{modelValue:d.value,"onUpdate:modelValue":n[1]||(n[1]=u=>d.value=u),options:j.value},null,8,["modelValue","options"])]),_:1}),t(x,{span:12},{default:s(()=>[t(C,{onClick:n[2]||(n[2]=u=>k("cate"))},{default:s(()=>[ie]),_:1})]),_:1})]),_:1}),t(c(V),{columns:R,"data-source":m.value,height:200},{"col-operate":s(({row:u})=>[t(C,{onClick:J=>L(u,"cate")},{default:s(()=>[me]),_:2},1032,["onClick"])]),_:1},8,["data-source"])],64)):c(h).useType===2?(_(),w(f,{key:1},[t(F,null,{default:s(()=>[t(x,{span:12},{default:s(()=>[t(G,{modelValue:I.value,"onUpdate:modelValue":n[3]||(n[3]=u=>I.value=u),filterable:"",remote:"","reserve-keyword":"",placeholder:"Please enter a keyword","remote-method":U,onChange:A},{default:s(()=>[(_(!0),w(f,null,oe(M.value,u=>(_(),te(O,{key:u.value,label:u.label,value:u.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(x,{span:12},{default:s(()=>[t(C,{onClick:n[4]||(n[4]=u=>k("product"))},{default:s(()=>[fe]),_:1})]),_:1})]),_:1}),t(c(V),{columns:Y,"data-source":g.value,height:200},{"col-operate":s(({row:u})=>[t(C,{onClick:J=>L(u,"product")},{default:s(()=>[be]),_:2},1032,["onClick"])]),_:1},8,["data-source"])],64)):le("",!0)])],64)}}}),a={lg:24,xl:24};function ye(){return[{label:"\u7F16\u53F7",prop:"id",fixed:"left"},{label:"\u6D3B\u52A8\u6807\u9898",prop:"title",width:150},{label:"\u6D3B\u52A8\u72B6\u6001",prop:"status",width:150},{label:"\u5F00\u59CB\u65F6\u95F4",prop:"startDate"},{label:"\u7ED3\u675F\u65F6\u95F4",prop:"endDate"},{label:"\u4E0A\u7EBF/\u4E0B\u7EBF",prop:"status",slot:!0},{label:"\u64CD\u4F5C",prop:"operate",slot:!0,width:250}]}function Te(e){return[{label:"\u7F16\u53F7",prop:"id",fixed:"left"},{label:"\u79D2\u6740\u65F6\u95F4\u6BB5\u540D\u79F0",prop:"name"},{label:"\u6BCF\u65E5\u5F00\u59CB\u65F6\u95F4",prop:"startTime"},{label:"\u6BCF\u65E5\u7ED3\u675F\u65F6\u95F4",prop:"endTime"},e?{label:"\u5546\u54C1\u6570\u91CF",prop:"status",slot:!0,ifShow:e}:{label:"\u542F\u7528",prop:"status",slot:!0,ifShow:!e},{label:"\u64CD\u4F5C",prop:"operate",slot:!0,width:250}]}function De(){return[{label:"\u7F16\u53F7",prop:"id",fixed:"left",width:200},{label:"\u5546\u54C1\u540D\u79F0",prop:"name",width:150},{label:"\u8D27\u53F7",prop:"productSn"},{label:"\u5546\u54C1\u4EF7\u683C",prop:"price"},{label:"\u5269\u4F59\u6B21\u6570",prop:"stock"},{label:"\u79D2\u6740\u4EF7\u683C",prop:"flashPromotionPrice"},{label:"\u79D2\u6740\u6570\u91CF",prop:"flashPromotionCount"},{label:"\u9650\u8D2D\u6570\u91CF",prop:"flashPromotionLimit"},{label:"\u6392\u5E8F",prop:"sort"},{label:"\u64CD\u4F5C",prop:"oprate",width:"160px",slot:!0}]}function Ie(){return[{label:"\u5546\u54C1\u540D\u79F0",prop:"name",width:150},{label:"\u8D27\u53F7",prop:"productSn"},{label:"\u5546\u54C1\u4EF7\u683C",prop:"price"}]}const D=[{title:"\u5168\u573A\u8D60\u5238",field:0},{title:"\u4F1A\u5458\u8D60\u5238",field:1},{title:"\u8D2D\u7269\u8D60\u5238",field:2},{title:"\u6CE8\u518C\u8D60\u5238",field:3}];function ke(){return[{label:"\u4F18\u60E0\u5238\u540D\u79F0",prop:"name",width:150},{label:"\u4F18\u60E0\u5238\u7C7B\u578B",prop:"type",mapList:D,formatter:y},{label:"\u53EF\u4F7F\u7528\u5546\u54C1",prop:"useType",mapList:[{title:"\u5168\u573A\u901A\u7528",field:0},{title:"\u6307\u5B9A\u5206\u7C7B",field:1},{title:"\u6307\u5B9A\u5546\u54C1",field:2}],formatter:y},{label:"\u4F7F\u7528\u95E8\u69DB",prop:"minPoint",formatter:(e,o)=>`\u6EE1${e.value.minPoint}\u5143\u53EF\u7528`},{label:"\u9762\u503C",prop:"amount"},{label:"\u9002\u7528\u5E73\u53F0",prop:"platform",mapList:B,formatter:y},{label:"\u6709\u6548\u671F",prop:"enableTime",formatter:(e,o)=>`${e.value.startTime}\u81F3${e.value.endTime}`},{label:"\u72B6\u6001",prop:"status",formatter:(e,o)=>new Date(e.value.enableTime).getTime()<new Date().getTime()?"\u5DF2\u8FC7\u671F":"\u672A\u8FC7\u671F"},{label:"\u64CD\u4F5C",prop:"operate",slot:!0,width:240}]}function Le(){return[{label:"\u7F16\u53F7",prop:"id",fixed:"left",width:200},{label:"\u54C1\u724C\u540D\u79F0",prop:"brandName",width:150},{label:"\u662F\u5426\u63A8\u8350",prop:"recommendStatus",slot:!0},{label:"\u6392\u5E8F",prop:"sort"},{label:"\u72B6\u6001",prop:"status",formatter:e=>{var o;return((o=c(e))==null?void 0:o.recommendStatus)===1?"\u5DF2\u63A8\u8350":"\u672A\u63A8\u8350"},width:200},{label:"\u64CD\u4F5C",prop:"oprate",width:"160px",slot:!0}]}function Fe(){return[{label:"\u7F16\u53F7",prop:"id",fixed:"left",width:200},{label:"\u54C1\u724C\u540D\u79F0",prop:"productName",width:150},{label:"\u662F\u5426\u63A8\u8350",prop:"recommendStatus",slot:!0},{label:"\u6392\u5E8F",prop:"sort"},{label:"\u72B6\u6001",prop:"status",formatter:e=>{var o;return((o=c(e))==null?void 0:o.recommendStatus)===1?"\u5DF2\u63A8\u8350":"\u672A\u63A8\u8350"},width:200},{label:"\u64CD\u4F5C",prop:"oprate",width:"160px",slot:!0}]}function Ne(){return[{label:"\u7F16\u53F7",prop:"id",fixed:"left",width:200},{label:"\u54C1\u724C\u540D\u79F0",prop:"subjectName",width:150},{label:"\u662F\u5426\u63A8\u8350",prop:"recommendStatus",slot:!0},{label:"\u6392\u5E8F",prop:"sort"},{label:"\u72B6\u6001",prop:"status",formatter:e=>{var o;return((o=c(e))==null?void 0:o.recommendStatus)===1?"\u5DF2\u63A8\u8350":"\u672A\u63A8\u8350"},width:200},{label:"\u64CD\u4F5C",prop:"oprate",width:"160px",slot:!0}]}const Ve=[{label:"\u54C1\u724C\u540D\u79F0",prop:"name",width:150},{label:"\u76F8\u5173",prop:"productCommentCount"}],Be=[{label:"\u54C1\u724C\u540D\u79F0",prop:"name",width:150},{label:"\u8D27\u53F7",prop:"productSn"},{label:"\u4EF7\u683C",prop:"price"}],Re=[{label:"\u4E13\u9898\u540D\u79F0",prop:"title",width:150},{label:"\u6240\u5C5E\u5206\u7C7B",prop:"categoryName"},{label:"\u6DFB\u52A0\u4E8B\u4EF6",prop:"createTime"}],ge=()=>[{field:"name",label:"\u4F18\u60E0\u5238\u540D\u79F0",component:"ElInput",colProps:{xl:24,lg:24}},{field:"type",label:"\u4F18\u60E0\u5238\u7C7B\u578B",component:"ElSelect",colProps:{xl:24,lg:24},searchList:D}],Ye=[{field:"brandName",label:"\u8D44\u6E90\u540D\u79F0",component:"ElInput",colProps:{xl:24,lg:24}},{field:"recommendStatus",label:"\u8D44\u6E90\u5206\u7C7B",component:"ElSelect",colProps:a,searchList:[{field:1,title:"\u5DF2\u63A8\u8350"},{field:0,title:"\u672A\u63A8\u8350"}]}],He=[{field:"productName",label:"\u8D44\u6E90\u540D\u79F0",component:"ElInput",colProps:{xl:24,lg:24}},{field:"recommendStatus",label:"\u8D44\u6E90\u5206\u7C7B",component:"ElSelect",colProps:a,searchList:[{field:1,title:"\u5DF2\u63A8\u8350"},{field:0,title:"\u672A\u63A8\u8350"}]}];function je(){return{labelWidth:100,schemas:[...ge()]}}const ze=[{field:"title",label:"\u6D3B\u52A8\u6807\u9898\uFF1A",component:"ElInput",colProps:a},{field:"startDate",label:"\u5F00\u59CB\u65F6\u95F4\uFF1A    ",component:"ElDatePicker",colProps:{xl:8,lg:12},componentProps:{valueFormat:"YYYY-MM-DD"}},{field:"endDate",label:"\u7ED3\u675F\u65F6\u95F4\uFF1A    ",component:"ElDatePicker",colProps:{xl:8,lg:12},componentProps:{valueFormat:"YYYY-MM-DD"}},{field:"status",label:"\u7EBF\u4E0A/\u7EBF\u4E0B",component:"ElSelect",colProps:{xl:8,lg:12},render:(e,o)=>t(T,{modelValue:o.status,"onUpdate:modelValue":d=>o.status=d},{default:()=>[t(S,{label:1,size:"large"},{default:()=>[i("\u662F")]}),t(S,{label:0,size:"large"},{default:()=>[i("\u5426")]})]})}],Ue=[{field:"sort",label:"\u6392\u5E8F",component:"ElInput",colProps:a}],B=[{title:"\u5168\u5E73\u53F0",field:0},{title:"\u79FB\u52A8\u5E73\u53F0",field:1},{title:"PC\u5E73\u53F0",field:2}],Ae=[{field:"type",label:"\u4F18\u60E0\u5238\u7C7B\u578B",component:"ElSelect",searchList:D,colProps:a},{field:"name",label:"\u4F18\u60E0\u5238\u540D\u79F0",component:"ElInput",colProps:a},{field:"platform",label:"\u9002\u7528\u5E73\u53F0",component:"ElSelect",colProps:a,searchList:B},{field:"publishCount",label:"\u603B\u53D1\u884C\u91CF",component:"ElInput",colProps:a},{field:"amount",label:"\u9762\u989D",component:"ElInput",colProps:a},{field:"perLimit",label:"\u6BCF\u4EBA\u9650\u9886",component:"ElInput",colProps:a},{field:"minPoint",label:"\u4F7F\u7528\u95E8\u69DB",component:"ElInput",colProps:a},{field:"enableTime",label:"\u9886\u53D6\u65E5\u671F",component:"ElDatePicker",colProps:a,componentProps:{valueFormat:"YYYY-MM-DD hh:mm:ss",type:"datetime"}},{field:"endTime",label:"\u7ED3\u675F\u65E5\u671F",component:"ElDatePicker",colProps:a,componentProps:{valueFormat:"YYYY-MM-DD hh:mm:ss"},show:!1},{field:"startTime",label:"\u6709\u6548\u671F",colProps:a,render:(e,o)=>t(f,null,[t(N,{modelValue:o.startTime,"onUpdate:modelValue":d=>o.startTime=d,type:"datetime","value-format":"YYYY-MM-DD hh:mm:ss"},null),t(N,{modelValue:o.endTime,"onUpdate:modelValue":d=>o.endTime=d,type:"datetime","value-format":"YYYY-MM-DD hh:mm:ss"},null)])},{field:"canUes",label:"\u53EF\u4F7F\u7528\u5546\u54C1",colProps:{lg:24,md:24},render:(e,o)=>t(f,null,[t(he,{model:o},null)])},{field:"note",label:"\u5907\u6CE8",component:"ElInputTextArea",colProps:a}],$e=[{field:"name",label:"\u5546\u54C1\u540D\u79F0\uFF1A",component:"ElInput",colProps:a,render:(e,o)=>t(f,null,[o.name])},{field:"productSn",label:"\u8D27\u53F7\uFF1A ",component:"ElInput",colProps:a,render:(e,o)=>t(f,null,[o.productSn])},{field:"price",label:"\u5546\u54C1\u4EF7\u683C\uFF1A ",component:"ElInput",colProps:a},{field:"flashPromotionPrice",label:"\u79D2\u6740\u4EF7\u683C\uFF1A ",component:"ElInput",colProps:a},{field:"stock",label:"\u5269\u4F59\u6570\u91CF\uFF1A ",component:"ElInput",colProps:a},{field:"flashPromotionCount",label:"\u79D2\u6740\u6570\u91CF\uFF1A ",component:"ElInput",colProps:a},{field:"flashPromotionLimit",label:"\u9650\u8D2D\u6570\u91CF\uFF1A ",component:"ElInput",colProps:a},{field:"sort",label:"\u6392\u5E8F\uFF1A",component:"ElInput",colProps:a}],Oe=[{field:"name",label:"\u79D2\u6740\u65F6\u95F4\u6BB5\u540D\u79F0\uFF1A",component:"ElInput",colProps:a},{field:"startTime",label:"\u6BCF\u65E5\u5F00\u59CB\u65F6\u95F4\uFF1A",component:"ElTimePicker",colProps:a,componentProps:{valueFormat:"HH:mm:ss"}},{field:"endTime",label:"\u6BCF\u65E5\u7ED3\u675F\u65F6\u95F4\uFF1A",component:"ElTimePicker",colProps:a,componentProps:{valueFormat:"HH:mm:ss"}},{field:"status",label:"\u542F\u7528",component:"ElSelect",colProps:a,render:(e,o)=>t(T,{modelValue:o.status,"onUpdate:modelValue":d=>o.status=d},{default:()=>[t(S,{label:1,size:"large"},{default:()=>[i("\u662F")]}),t(S,{label:0,size:"large"},{default:()=>[i("\u5426")]})]})}];function Ge(e){return l.post({url:"/flash/list",params:e},{errorMessageMode:"none"})}function Je(e){return l.post({url:"/flash/update",params:e},{errorMessageMode:"none"})}function We(e){return l.post({url:"/flash/add",params:e},{errorMessageMode:"none"})}function qe(){return l.post({url:"/flashSession/list"},{errorMessageMode:"none"})}function Ke(e){return l.post({url:"/flashSession/update",params:e},{errorMessageMode:"none"})}function Qe(e){return l.post({url:"/flashSession/add",params:e},{errorMessageMode:"none"})}function Xe(e){return l.get({url:"/flashSession/selectList",params:e},{errorMessageMode:"none"})}function Ze(e){return l.get({url:"/flashProductRelation/list",params:e},{errorMessageMode:"none"})}function eo(e){return l.post({url:"/flashProductRelation/create",params:e},{errorMessageMode:"none"})}function oo(e){return l.get({url:"/flashProductRelation/delete",params:e},{errorMessageMode:"none"})}function to(e){return l.post({url:"/flashProductRelation/update",params:e},{errorMessageMode:"none"})}function lo(e){return l.post({url:"/coupon/list",params:e},{errorMessageMode:"none"})}function ao(e){return l.post({url:"/coupon/update",params:e},{errorMessageMode:"none"})}function ro(e){return l.post({url:"/coupon/add",params:e},{errorMessageMode:"none"})}function no(e){return l.get({url:"/coupon/delete",params:e},{errorMessageMode:"none"})}function so(e){return l.post({url:"/home/brand/list",params:e},{errorMessageMode:"none"})}function uo(e){return l.post({url:"/home/brand/update",params:e},{errorMessageMode:"none"})}function co(e){return l.post({url:"/home/brand/add",params:e},{errorMessageMode:"none"})}function po(e){return l.get({url:"/home/brand/delete",params:e},{errorMessageMode:"none"})}function io(e){return l.post({url:"/home/newproduct/list",params:e},{errorMessageMode:"none"})}function mo(e){return l.post({url:"/home/newproduct/update",params:e},{errorMessageMode:"none"})}function fo(e){return l.post({url:"/home/newproduct/add",params:e},{errorMessageMode:"none"})}function bo(e){return l.get({url:"/home/newproduct/delete",params:e},{errorMessageMode:"none"})}function ho(e){return l.post({url:"/home/recommendProduct/list",params:e},{errorMessageMode:"none"})}function go(e){return l.post({url:"/home/recommendProduct/update",params:e},{errorMessageMode:"none"})}function vo(e){return l.post({url:"/home/recommendProduct/add",params:e},{errorMessageMode:"none"})}function Po(e){return l.get({url:"/home/recommendProduct/delete",params:e},{errorMessageMode:"none"})}function _o(e){return l.post({url:"/home/recommendSubject/list",params:e},{errorMessageMode:"none"})}function Mo(e){return l.post({url:"/home/recommendSubject/update",params:e},{errorMessageMode:"none"})}function xo(e){return l.post({url:"/home/recommendSubject/add",params:e},{errorMessageMode:"none"})}function Co(e){return l.get({url:"/home/recommendSubject/delete",params:e},{errorMessageMode:"none"})}export{co as A,uo as B,po as C,Le as D,Ve as E,Ue as F,Ye as G,io as H,fo as I,mo as J,bo as K,Fe as L,Be as M,He as N,ho as O,vo as P,go as Q,Po as R,_o as S,xo as T,Mo as U,Co as V,Ne as W,Re as X,Ge as a,ye as b,je as c,We as d,$e as e,Ie as f,ze as g,Ze as h,De as i,to as j,eo as k,oo as l,Oe as m,Te as n,Xe as o,qe as p,Ke as q,Qe as r,Ae as s,lo as t,Je as u,ke as v,ao as w,ro as x,no as y,so as z};
