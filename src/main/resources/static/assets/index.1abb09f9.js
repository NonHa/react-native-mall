import{aI as b,d as L,gn as C,ha as D,aX as f,aG as y,p as $,b as E,q as M,ai as w,o as c,s as U,e as s,w as u,c as k,h as I,g as t,y as r,x as O,Z as S,b5 as A}from"./index.1d7aec97.js";import"./el-popper.0d57635d.js";import"./el-dropdown-menu.661be3e0.js";import{c as v,a as N}from"./index.a2f47f9b.js";import{b as P}from"./index.e7996417.js";import{h as R}from"./header.d801b988.js";import"./uniqBy.dfa31aab.js";import"./refresh-right.fca1de42.js";import"./useContentViewHeight.1c31b804.js";import"./useWindowSizeFn.1142606d.js";import"./log.b69fc4f1.js";const V="https://vvbin.cn/doc-next/";const z=L({name:"UserDropdown",components:{ElDropdown:C,ElDropdownMenu:D,DropMenuItem:v(()=>f(()=>import("./DropMenuItem.82f44576.js"),["assets/DropMenuItem.82f44576.js","assets/DropMenuItem.18cfef97.css","assets/index.1d7aec97.js","assets/index.f115cd0f.css","assets/el-dropdown-item.e314191a.js"])),LockAction:v(()=>f(()=>import("./LockModal.bec767a6.js"),["assets/LockModal.bec767a6.js","assets/LockModal.87b76b62.css","assets/index.e7996417.js","assets/index.74bc54ae.css","assets/index.1d7aec97.js","assets/index.f115cd0f.css","assets/el-popper.0d57635d.js","assets/el-popper.35bff2a7.css","assets/useWindowSizeFn.1142606d.js","assets/log.b69fc4f1.js"]))},props:{theme:y.oneOf(["dark","light"])},setup(){const{prefixCls:e}=$("header-user-dropdown"),{getShowDoc:m,getUseLockPage:h}=N(),a=E(),g=M(()=>{const{realName:p="",avatar:B,desc:x}=a.getUserInfo||{};return{realName:p,avatar:B||R,desc:x}}),[_,{openModal:o}]=P();function d(){o(!0)}function l(){a.confirmLoginOut()}function i(){A(V)}function n(p){switch(p){case"logout":l();break;case"doc":i();break;case"lock":d();break}}return{prefixCls:e,getUserInfo:g,handleMenuClick:n,getShowDoc:m,register:_,getUseLockPage:h}}}),T=["src"];function q(e,m,h,a,g,_){const o=w("DropMenuItem"),d=D,l=C,i=w("LockAction");return c(),U(S,null,[s(l,{onCommand:e.handleMenuClick,"hide-on-click":"",placement:"bottom",class:r(`${e.prefixCls}-dropdown-overlay`)},{dropdown:u(()=>[s(d,null,{default:u(()=>[e.getShowDoc?(c(),k(o,{key:"doc",text:"dropdownItemDoc",icon:"ion:document-text-outline"})):I("v-if",!0),e.getUseLockPage?(c(),k(o,{key:"lock",text:"tooltipLock",icon:"ion:lock-closed-outline",divided:e.getShowDoc},null,8,["divided"])):I("v-if",!0),s(o,{key:"logout",text:"dropdownItemLoginOut",icon:"ion:power-outline"})]),_:1})]),default:u(()=>{var n;return[t("span",{class:r([[e.prefixCls,`${e.prefixCls}--${e.theme}`],"flex"])},[t("img",{class:r(`${e.prefixCls}__header`),src:(n=e.getUserInfo)==null?void 0:n.avatar},null,10,T),t("span",{class:r(`${e.prefixCls}__info hidden md:block`)},[t("span",{class:r([`${e.prefixCls}__name  `,"truncate"])},O(e.getUserInfo.realName),3)],2)],2)]}),_:1},8,["onCommand","class"]),s(i,{onRegister:e.register},null,8,["onRegister"])],64)}var ee=b(z,[["render",q]]);export{ee as default};
