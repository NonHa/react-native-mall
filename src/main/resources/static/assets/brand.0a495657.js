var N=Object.defineProperty;var k=Object.getOwnPropertySymbols;var I=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable;var V=(l,a,t)=>a in l?N(l,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[a]=t,g=(l,a)=>{for(var t in a||(a={}))I.call(a,t)&&V(l,t,a[t]);if(k)for(var t of k(a))M.call(a,t)&&V(l,t,a[t]);return l};var y=(l,a,t)=>new Promise((_,d)=>{var c=r=>{try{m(t.next(r))}catch(f){d(f)}},o=r=>{try{m(t.throw(r))}catch(f){d(f)}},m=r=>r.done?_(r.value):Promise.resolve(r.value).then(c,o);m((t=t.apply(l,a)).next())});import{d as q,a as S,r as O,o as $,q as H,e as u,w as i,f as e,c8 as K,h as b,x as A,Z as L,i as P}from"./index.9ea39232.js";import{E}from"./el-switch.05966c42.js";import{u as Q,B as Z}from"./useTable.db1db6c5.js";import{r as j,B as G}from"./useForm.c467aa96.js";import{B as J}from"./index.4c756888.js";import{f as W,h as X,i as Y}from"./tableData.a4ed2d38.js";import{o as ee,q as te,r as ae,s as oe}from"./table.e172cbb0.js";/* empty css               */import"./el-popper.9aa5ade8.js";/* empty css                  */import"./el-input-number.e6179de6.js";import"./check.8d7cf096.js";import"./dateUtil.648bdb8e.js";import"./useWindowSizeFn.4d8673c8.js";import"./onMountedOrActivated.21e8b91f.js";import"./el-divider.c329bdb5.js";import"./sortable.esm.6991fe44.js";import"./log.b69fc4f1.js";import"./uniqBy.067f2c9d.js";import"./el-form-item.f36f1992.js";import"./uniq.030252d7.js";/* empty css                 */import"./el-space.f4d2670a.js";const ne=b("\u65B0\u589E"),se=b("\u7F16\u8F91"),le=b("\u5220\u9664"),Te=q({__name:"brand",setup(l){const a=S(!1),t=S(!1),_=O({pageSize:10,pageNum:1});let d=ee,c=S();const o=S({});function m(n){o.value=n,e(c).visibleRef=!0}let r=X();const[f,B]=j(),[x,{getForm:re,reload:v}]=Q({api:d,columns:r,useSearchForm:!0,formConfig:g({},Y()),showTableSetting:!0,tableSetting:{fullScreen:!0},showIndexColumn:!1,rowKey:"key",isTreeTable:!0});function T(n,p){return!0}function z(n){te(n.id).then(p=>{v()})}let U=[],w=()=>y(this,null,function*(){return e(o).id?yield ae(e(o).id,g({name:e(o).name,factoryStatus:e(o).factoryStatus,showStatus:e(o).showStatus},B.getFieldsValue())).then(n=>{if(n)return e(c).visibleRef=!1,v(),!0}):oe(g({},B.getFieldsValue())).then(n=>{n&&(e(c).visibleRef=!1,v())}),!1});const D=n=>{o.value=n},R=(n,p)=>y(this,null,function*(){return o.value=n,e(o)[p]=e(o)[p]===0?1:0,yield w()});return(n,p)=>{const F=P;return $(),H(L,null,[u(e(Z),{title:"\u57FA\u7840\u793A\u4F8B",titleHelpMessage:"\u6E29\u99A8\u63D0\u9192",columns:e(r),dataSource:e(U),canResize:a.value,loading:t.value,showTableSetting:"",pagination:_,tableSearchQuery:{pageNum:1,pageSize:50},api:e(d),useSearchForm:"",columnSelectInit:{selectable:T,initSelectRows:[1,2,3]},rowSelection:{type:"checkbox"},onRegister:e(x),onRowClick:D},{"form-advanceAfter":i(()=>[u(F,{type:"danger",onClick:m},{default:i(()=>[ne]),_:1})]),"col-oprate":i(({row:s,column:C})=>[u(F,{size:"small",type:"primary",onClick:h=>m(s)},{default:i(()=>[se]),_:2},1032,["onClick"]),u(e(K),{title:"Are you sure to delete this?",onConfirm:h=>z(s)},{reference:i(()=>[u(F,{size:"small",type:"danger"},{default:i(()=>[le]),_:1})]),_:2},1032,["onConfirm"])]),"col-factoryStatus":i(({row:s,column:C})=>[u(e(E),{modelValue:s.factoryStatus,"onUpdate:modelValue":h=>s.factoryStatus=h,class:"ml-2","active-value":1,"inactive-value":0,"before-change":()=>R(s,"factoryStatus")},null,8,["modelValue","onUpdate:modelValue","before-change"])]),"col-showStatus":i(({row:s,column:C})=>[u(e(E),{modelValue:s.showStatus,"onUpdate:modelValue":h=>s.showStatus=h,class:"ml-2","active-value":1,"inactive-value":0,"before-change":()=>R(s,"showStatus")},null,8,["modelValue","onUpdate:modelValue","before-change"])]),"col-productCommentCount":i(({row:s,column:C})=>[b(" \u5546\u54C1\uFF1A"+A(s.productCommentCount)+" \u8BC4\u4EF7\uFF1A"+A(s.sort),1)]),_:1},8,["columns","dataSource","canResize","loading","pagination","api","columnSelectInit","onRegister"]),u(e(J),{ref_key:"modalRef",ref:c,onOk:e(w)},{default:i(()=>[u(e(G),{onRegister:e(f),model:o.value,schemas:e(W),showActionBtn:!1},null,8,["onRegister","model","schemas"])]),_:1},8,["onOk"])],64)}}});export{Te as default};
