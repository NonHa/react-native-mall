var w=Object.defineProperty;var y=Object.getOwnPropertySymbols;var h=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable;var R=(r,o,e)=>o in r?w(r,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[o]=e,F=(r,o)=>{for(var e in o||(o={}))h.call(o,e)&&R(r,e,o[e]);if(y)for(var e of y(o))v.call(o,e)&&R(r,e,o[e]);return r};var m=(r,o,e)=>new Promise((n,c)=>{var a=s=>{try{u(e.next(s))}catch(t){c(t)}},P=s=>{try{u(e.throw(s))}catch(t){c(t)}},u=s=>s.done?n(s.value):Promise.resolve(s.value).then(a,P);u((e=e.apply(r,o)).next())});import{a as b,p as i,f as l}from"./index.9ea39232.js";const j=b(0);function q(r){function o(e){return m(this,null,function*(){const n=l(r);if(!!n)return yield n.validate((c,a)=>{c&&e()})})}return{validForm:o}}function x(r){const o=i(()=>g("sys.login.accountPlaceholder")),e=i(()=>g("sys.login.passwordPlaceholder")),n=i(()=>g("sys.login.smsPlaceholder")),c=i(()=>g("sys.login.mobilePlaceholder")),a=(s,t)=>m(this,null,function*(){return t?Promise.resolve():Promise.reject("sys.login.policyPlaceholder")}),P=s=>(t,d)=>m(this,null,function*(){return d?d!==s?Promise.reject("sys.login.diffPwd"):Promise.resolve():Promise.reject("sys.login.passwordPlaceholder")});return{getFormRules:i(()=>{const s=l(o),t=l(e),d=l(n),p=l(c),f={sms:d,mobile:p};switch(l(j)){case 1:return F({account:s,password:t,confirmPassword:[{validator:P(r==null?void 0:r.password),trigger:"change"}],policy:[{validator:a,trigger:"change"}]},f);case 2:return F({account:s},f);case 3:return f;default:return{account:s,password:t}}})}}function g(r){return[{required:!0,message:r,trigger:"change"}]}export{q as a,x as u};
